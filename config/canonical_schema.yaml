# Canonical schema definition for normalized data
version: "1.0"

description: "Standard schema all vendor data is normalized to"

fields:
  # Core identifier fields
  order_id:
    type: "string"
    required: true
    description: "Unique order identifier"
    min_length: 1
    max_length: 100
  
  vendor_id:
    type: "string"
    required: true
    description: "Vendor identifier"
  
  line_item_id:
    type: "string"
    required: false
    description: "Unique line item identifier within order"
  
  # Date fields (ISO 8601 format)
  order_date:
    type: "date"
    required: true
    description: "Date order was placed (YYYY-MM-DD)"
    format: "ISO8601"
  
  delivery_date:
    type: "date"
    required: false
    description: "Scheduled/actual delivery date"
    format: "ISO8601"
  
  # Product fields
  product_code:
    type: "string"
    required: true
    description: "SKU or product code"
  
  product_name:
    type: "string"
    required: false
    description: "Human-readable product name"
  
  category:
    type: "string"
    required: false
    description: "Product category"
  
  # Quantity and pricing
  quantity:
    type: "integer"
    required: true
    description: "Quantity ordered"
    min_value: 1
  
  unit_price:
    type: "decimal"
    required: true
    description: "Price per unit"
    min_value: 0
  
  total_amount:
    type: "decimal"
    required: true
    description: "Total line item amount"
    min_value: 0
  
  currency:
    type: "string"
    required: true
    description: "ISO 4217 currency code (e.g., USD, EUR)"
    enum: ["USD", "EUR", "GBP", "JPY"]
  
  # Recipient info
  recipient_name:
    type: "string"
    required: false
    description: "Name of recipient"
  
  recipient_email:
    type: "email"
    required: false
    description: "Email address"
    format: "email"
  
  recipient_phone:
    type: "string"
    required: false
    description: "Phone number"
  
  # Delivery address
  street_address:
    type: "string"
    required: false
  
  city:
    type: "string"
    required: false
  
  postal_code:
    type: "string"
    required: false
  
  country:
    type: "string"
    required: false
    description: "ISO 3166-1 alpha-2 country code"
  
  # Status and notes
  order_status:
    type: "string"
    required: false
    description: "Order status"
    enum: ["pending", "confirmed", "shipped", "delivered", "cancelled"]
  
  notes:
    type: "string"
    required: false
    description: "Additional notes or comments"
    max_length: 2000
